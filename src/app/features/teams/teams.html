<div class="container fade-in">
  <h2 class="mb-4">Equipos de La Liga</h2>

  <div *ngIf="loading" class="text-center p-5">
    <i class="pi pi-spin pi-spinner" style="font-size: 2rem"></i>
    <p class="mt-2">Cargando estad√≠sticas de los equipos...</p>
  </div>

  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <div class="teams-grid" *ngIf="!loading && !error">
    
    <div *ngFor="let team of teams" 
         class="team-card" 
         (click)="goToTeamDetail(team)">

      <div class="card-header">
        <span class="rank" [ngClass]="{'top-rank': isTopRank(team.rank), 'relegation-rank': isRelegationRank(team.rank)}">
          #{{ team.rank }}
        </span>
        
        <div class="team-identity">
           <img [src]="team.teamBadge || team.teamLogo || 'assets/images/Logo.png'" 
                alt="Escudo"
                class="team-mini-badge"
                onerror="this.src='assets/images/Logo.png'">
           
           <h3 class="team-name">{{ team.teamName }}</h3>
        </div>
      </div>

      <div class="stats-row">
        
        <div class="stat-item highlight">
          <span class="stat-value">{{ team.points }}</span>
          <span class="stat-label">Pts</span>
        </div>

        <div class="stat-divider"></div>

        <div class="stat-item">
          <span class="stat-value">{{ team.matches }}</span>
          <span class="stat-label">PJ</span>
        </div>

        <div class="stat-divider"></div>

        <div class="stat-item">
          <span class="stat-value">{{ team.goalDiff }}</span>
          <span class="stat-label">DG</span>
        </div>

      </div>

      <div class="stats-mini">
        <small class="text-muted">Goles: {{ team.goals }}</small>
      </div>

    </div>
  </div>
</div>